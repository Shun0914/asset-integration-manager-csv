# Asset Integration Manager 要件定義書

## 1. システム概要

Asset Integration Manager（CSV版）は、ユーザーが自身のポートフォリオデータ（CSV形式）をアップロードし、ポートフォリオ分析と改善提案を受けられるWebアプリケーションです。

## 2. 機能要件

### 2.1 CSVアップロード機能

- ドラッグ＆ドロップによるCSVファイルアップロード
- 複数証券会社形式に対応したCSVパース機能
- ヘッダーマッピング機能（カスタム設定可能）
- データ検証機能（数値の妥当性チェック等）

### 2.2 ポートフォリオ分析機能

- 基本情報集計（総評価額、総損益、損益率）
- 銘柄別分析（評価額、損益、構成比率）
- セクター分析（セクター別構成比率、セクター別パフォーマンス）
- リスク分析（集中度、ボラティリティ推定）

### 2.3 データ可視化機能

- 保有銘柄一覧テーブル（ソート・フィルタ機能付き）
- セクター配分円グラフ
- 損益状況棒グラフ
- 銘柄別評価額・損益表示

### 2.4 GPTアドバイス機能

- ポートフォリオデータに基づく改善提案生成
- リスク分散アドバイス
- セクター配分最適化提案
- 具体的な銘柄入替推奨

## 3. 非機能要件

### 3.1 パフォーマンス要件

- CSVアップロードから表示までの応答時間：3秒以内
- 最大CSVサイズ：5MB
- 同時ユーザー数：50人

### 3.2 セキュリティ要件

- データの永続保存なし（すべてメモリ内処理）
- フロント-バック間の通信暗号化
- ユーザーデータのサーバー送信前検証

### 3.3 ユーザビリティ要件

- レスポンシブデザイン（PC、タブレット、スマートフォン対応）
- アクセシビリティ対応
- 直感的なUI/UX設計

### 3.4 拡張性・保守性要件

- モジュール化された設計
- 証券会社CSVフォーマット追加の容易さ
- コードの可読性とドキュメント整備

## 4. 技術スタック

### 4.1 フロントエンド

- React.js
- Material UI
- Chart.js / Recharts（データ可視化）
- React Dropzone（ファイルアップロード）

### 4.2 バックエンド

- FastAPI（Python）
- Pandas（データ処理）
- OpenAI API（GPTアドバイス生成）

### 4.3 インフラ

- フロントエンド：Vercel
- バックエンド：Fly.io

## 5. 開発フェーズとマイルストーン

### フェーズ1：基本機能実装

- CSVアップロードUI
- 基本データ解析エンジン
- シンプルな表示機能

### フェーズ2：分析機能拡充

- 高度なデータ可視化
- セクター分析
- リスク計算

### フェーズ3：GPT連携

- GPTプロンプト設計
- アドバイス生成機能
- UI/UX改善

### フェーズ4：最適化とリリース

- パフォーマンス最適化
- セキュリティレビュー
- デプロイとリリース
